(this["webpackJsonppanier-achats"]=this["webpackJsonppanier-achats"]||[]).push([[0],{35:function(e){e.exports=JSON.parse('[{"nom":"Chandail \xe0 manche longue","prix":19.95,"id":"prd0001"},{"nom":"T-Shirt \xe0 col roul\xe9 - produit avec nom plus long","prix":9.55,"id":"prd0002"},{"nom":"T-Shirt \xe0 col V","prix":24.95,"id":"prd0003"},{"nom":"T-Shirt orange","prix":12.95,"id":"prd0004"},{"nom":"T-Shirt masculin","prix":19.5,"id":"prd0005"},{"nom":"Chandail quelconque","prix":13.99,"id":"prd0006"}]')},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(25),s=n.n(i),r=n(19),o=(n(50),n(51),n(18));n(52);var l=n(42),d=n.n(l),j=n(85),u=(n(53),n(3));function p(e){var t=e.panier,n=e.affichable,c=function(e){var t=Object.values(e),n={nbArticles:0,totalItems:0,st:0,tps:0,tvq:0,total:0};n.nbArticles=t.length,n.totalItems=t.reduce((function(e,t){return e+t.qte}),0);var c=t.reduce((function(e,t){return e+t.prix*t.qte}),0);n.st=c.toFixed(2);var a=.05*c;n.tps=a.toFixed(2);var i=.09975*c;return n.tvq=i.toFixed(2),n.total=(c+a+i).toFixed(2),n}(t);return Object(u.jsxs)("div",{className:"SommairePanier"+(n?"":" cacher"),children:[Object(u.jsxs)("span",{children:["Articles diff\xe9rents : ",c.nbArticles]}),Object(u.jsxs)("span",{children:["Total # items : ",c.totalItems]}),Object(u.jsxs)("span",{children:["Sous-total : ",c.st]}),Object(u.jsxs)("span",{children:["TPS : ",c.tps]}),Object(u.jsxs)("span",{children:["TVQ : ",c.tvq]}),Object(u.jsxs)("span",{children:["Total : ",c.total]})]})}function b(e){var t=e.etatPanier,n=Object(o.a)(t,1)[0],a=Object.values(n),i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],b=s[1];return Object(u.jsxs)("header",{className:"Entete",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsx)(r.b,{to:"/",activeClassName:"navActive",exact:!0,children:"Magasin"})}),Object(u.jsxs)("ul",{className:"navPrincipale",children:[Object(u.jsx)("li",{children:Object(u.jsx)(r.b,{to:"/nos-produits",activeClassName:"navActive",children:"Produits"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.b,{to:"/a-propos-de-nous",activeClassName:"navActive",children:"\xc0 propos de nous"})}),Object(u.jsx)("li",{children:Object(u.jsx)(r.b,{to:"/contactez-nous",activeClassName:"navActive",children:"Contactez-nous"})})]}),Object(u.jsxs)("ul",{className:"navUtilisateur",children:[Object(u.jsxs)("li",{children:[Object(u.jsx)(j.a,{onClick:function(){b(!l)},badgeContent:a.reduce((function(e,t){return e+t.qte}),0),color:"secondary",children:Object(u.jsx)(d.a,{})}),Object(u.jsx)(p,{panier:n,affichable:l})]}),Object(u.jsx)("li",{children:"Mon compte"})]})]})}n(63),n(64);function h(e){var t=e.onClick,n=e.qte,c=e.texte,a=e.classeCss;return Object(u.jsx)(j.a,{badgeContent:n,color:"primary",children:Object(u.jsx)("button",{onClick:t,className:"BtnAjoutPanier ".concat(a),children:c})})}var x=n(43),O=n.n(x);n(65);function f(e){var t=e.nom,n=e.id,c=e.etatPanier,a=e.prix,i=Object(o.a)(c,2),s=i[0],r=i[1];var l=0,d="Ajouter au panier",j="";return s[n]&&(l=s[n].qte,d=Object(u.jsx)(O.a,{}),j="rouge"),Object(u.jsxs)("li",{className:"Produit",children:[Object(u.jsx)("img",{src:"images-produits/"+n+".webp",alt:""}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("p",{className:"nom",children:t}),Object(u.jsx)("p",{className:"prix",children:a})]}),Object(u.jsx)(h,{onClick:function(){console.log("Le panier : ",s),s[n]?s[n].qte++:s[n]={nom:t,prix:a,qte:1},r(JSON.parse(JSON.stringify(s)))},qte:l,texte:d,classeCss:j})]})}var m=n(35),v=n(29);n(70);v.a.apps.length||v.a.initializeApp({apiKey:"AIzaSyDYXixKoQkDQRBQM6g_v0lspnYwWsUV2OM",authDomain:"veille-technologique-173fb.firebaseapp.com",databaseURL:"https://veille-technologique-173fb-default-rtdb.firebaseio.com",projectId:"veille-technologique-173fb",storageBucket:"veille-technologique-173fb.appspot.com",messagingSenderId:"884338243671",appId:"1:884338243671:web:a5b8adf2d90fea7ba98b12",measurementId:"G-19TYS3Z8K8"});var g=v.a.firestore();m.forEach((function(e){return g.collection("produits").add(e).then((function(e){return console.log("ID du document ajout\xe9 : ",e.id)}))})),g.collection("produits").get().then((function(e){e.forEach((function(e){return console.log("Produit dont le prix > 13$ : ",e.data())}))}));g.collection("produits").onSnapshot((function(e){return e.docChanges().forEach((function(e){"added"==e.type&&console.log(e.doc.data())}))}));function N(e){return Object(u.jsxs)("div",{className:"ListeProduits",children:[Object(u.jsx)("h2",{children:"Produits disponibles"}),Object(u.jsx)("ul",{children:m.map((function(t){return Object(u.jsx)(f,{nom:t.nom,prix:t.prix,id:t.id,etatPanier:e.etatPanier},t.id)}))})]})}function S(){return Object(u.jsxs)("div",{className:"Accueil",children:[Object(u.jsx)("h2",{children:"Magasin"}),Object(u.jsx)("p",{children:"Page d'accueil en construction"})]})}function P(){return Object(u.jsxs)("div",{className:"Apropos",children:[Object(u.jsx)("h2",{children:"\xc0 propos de nous"}),Object(u.jsx)("p",{children:"Patati et patata"})]})}function C(){return Object(u.jsxs)("div",{className:"Contact",children:[Object(u.jsx)("h2",{children:"Contactez-nous"}),Object(u.jsx)("p",{children:"Formulaire de contact \xe0 venir"})]})}n(67);function q(e){var t=(new Date).getFullYear();return Object(u.jsxs)("footer",{className:"PiedDePage",children:["\xa9",t," - TIM - Tous droits r\xe9serv\xe9s."]})}var A=n(5);function I(){var e=function(e,t){var n=Object(c.useState)((function(){return JSON.parse(window.localStorage.getItem(t))||e})),a=Object(o.a)(n,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){return window.localStorage.setItem(t,JSON.stringify(i))}),[i]),[i,s]}({},"panier");return Object(u.jsxs)("div",{className:"Appli",children:[Object(u.jsx)(b,{etatPanier:e}),Object(u.jsx)("section",{className:"contenuPrincipal",children:Object(u.jsxs)(A.c,{children:[Object(u.jsx)(A.a,{path:"/",component:S,exact:!0}),Object(u.jsx)(A.a,{path:"/nos-produits",children:Object(u.jsx)(N,{etatPanier:e,exact:!0})}),Object(u.jsx)(A.a,{path:"/a-propos-de-nous",exact:!0,children:Object(u.jsx)(P,{})}),Object(u.jsx)(A.a,{path:"/contactez-nous",component:C,exact:!0})]})}),Object(u.jsx)(q,{})]})}var w=-1!==window.location.href.search(/github\.io/)?"panier-achats":"";s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(r.a,{basename:w,children:Object(u.jsx)(I,{})})}),document.getElementById("racine"))}},[[69,1,2]]]);
//# sourceMappingURL=main.0eb4cf93.chunk.js.map