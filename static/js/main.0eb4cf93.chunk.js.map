{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","PiedDePage.jsx","Appli.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","panier","affichable","info","pan","tabArticles","Object","values","nbArticles","totalItems","st","tps","tvq","total","length","reduce","acc","article","qte","prix","toFixed","retournerInfoPanier","className","Entete","etatPanier","valeursPanier","useState","sommaireAffichable","setSommaireAffichable","to","activeClassName","exact","Badge","onClick","badgeContent","accumulateur","eltCourant","color","BtnAjoutPanier","texte","classeCss","Produit","nom","id","setPanier","src","alt","console","log","JSON","parse","stringify","fbAppli","apps","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","bd","firestore","tabProduits","forEach","prd","collection","add","then","refDoc","get","reponse","doc","data","onSnapshot","vue","docChanges","changement","type","ListeProduits","props","map","Accueil","Apropos","Contact","PiedDePage","annee","Date","getFullYear","Appli","valeurParDefaut","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","baseName","location","href","search","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.0eb4cf93.chunk.js","sourcesContent":["import './SommairePanier.scss';\n\nexport default function SommairePanier({panier, affichable}) {\n  \n  const info = retournerInfoPanier(panier);\n\n  return(\n    <div className={'SommairePanier' + (!affichable ? ' cacher' : '')}>\n      <span>Articles différents : {info.nbArticles}</span>\n      <span>Total # items : {info.totalItems}</span>\n      <span>Sous-total : {info.st}</span>\n      <span>TPS : {info.tps}</span>\n      <span>TVQ : {info.tvq}</span>\n      <span>Total : {info.total}</span>\n    </div>\n  );\n}\n\nfunction retournerInfoPanier(pan) {\n  const tabArticles = Object.values(pan);\n  // [ {nom: 'sdfsd', prix: 15.99, qte: 2}, {nom: 'sdfsd', prix: 9.99, qte: 6}, {nom: 'sdfsd', prix: 23.67, qte: 15}]\n  let info = {nbArticles: 0, totalItems: 0, st: 0, tps: 0, tvq: 0, total: 0};\n  info.nbArticles = tabArticles.length;\n  info.totalItems = tabArticles.reduce((acc, article) => acc + article.qte , 0);\n  const st = tabArticles.reduce((acc, article) => acc + (article.prix*article.qte), 0);\n  info.st = st.toFixed(2);\n  const tps = st * 0.05;\n  info.tps = tps.toFixed(2)\n  const tvq = st * 0.09975;\n  info.tvq = tvq.toFixed(2);\n  info.total = (st + tps + tvq).toFixed(2);\n  return info;\n}","import './Entete.scss';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Badge from '@material-ui/core/Badge';\nimport SommairePanier from './SommairePanier';\nimport { useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nexport default function Entete({etatPanier}) {\n  const [panier] = etatPanier;\n  const valeursPanier = Object.values(panier);\n\n  const [sommaireAffichable, setSommaireAffichable] = useState(false);\n\n  function basculerAffichageSommairePanier() {\n    setSommaireAffichable(!sommaireAffichable);\n  }\n\n  return (\n    <header className=\"Entete\">\n      <div className=\"logo\">\n        <NavLink to=\"/\" activeClassName=\"navActive\" exact>\n          Magasin\n        </NavLink>\n      </div>\n      <ul className=\"navPrincipale\">\n        <li><NavLink to=\"/nos-produits\" activeClassName=\"navActive\">Produits</NavLink></li>\n        <li><NavLink to=\"/a-propos-de-nous\" activeClassName=\"navActive\">À propos de nous</NavLink></li>\n        <li><NavLink to=\"/contactez-nous\" activeClassName=\"navActive\">Contactez-nous</NavLink></li>\n      </ul>\n      <ul className=\"navUtilisateur\">\n        <li>\n          <Badge onClick={basculerAffichageSommairePanier} badgeContent={valeursPanier.reduce((accumulateur, eltCourant) => accumulateur + eltCourant.qte, 0)} color=\"secondary\">\n            <ShoppingCartIcon />\n          </Badge>\n          <SommairePanier panier={panier} affichable={sommaireAffichable} />\n        </li>\n        <li>Mon compte</li>\n      </ul>\n    </header>\n  )\n}","import { Badge } from '@material-ui/core';\n\nimport './BtnAjoutPanier.scss';\n\nexport default function BtnAjoutPanier({onClick, qte, texte, classeCss}) {\n  return (\n    <Badge badgeContent={qte} color=\"primary\">\n      <button onClick={onClick} className={`BtnAjoutPanier ${classeCss}`}>\n        {texte}\n      </button>\n    </Badge>\n  );\n} \n\n","import BtnAjoutPanier from './BtnAjoutPanier';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport './Produit.scss';\n\nexport default function Produit({nom, id, etatPanier, prix}) {\n  const [panier, setPanier] = etatPanier;\n\n  function ajouterPanier() {\n    console.log(\"Le panier : \", panier);\n    if(panier[id]) {\n      panier[id].qte++;\n    }\n    else {\n      panier[id] = {nom: nom, prix: prix, qte: 1}\n    }\n    setPanier(JSON.parse(JSON.stringify(panier))); // {...panier}\n  } \n\n  let qte = 0;\n  let texte = \"Ajouter au panier\";\n  let classeCss = \"\";\n  if(panier[id]) {\n    qte = panier[id].qte;\n    texte = <AddCircleOutlineIcon />; // JSX = Javascript Syntax eXtension\n    classeCss = \"rouge\";\n  }\n\n  return(\n    <li className=\"Produit\">\n      <img src={'images-produits/' + id + '.webp'} alt=\"\"/>\n      <div className=\"info\">\n        <p className=\"nom\">{nom}</p>\n        <p className=\"prix\">{prix}</p>\n      </div>\n      <BtnAjoutPanier onClick={ajouterPanier} qte={qte} texte={texte} classeCss={classeCss} />\n    </li>\n  );\n}","import './ListeProduits.scss';\nimport Produit from \"./Produit\";\nimport tabProduits from './data/produits.json';\nimport fbAppli from 'firebase/app';\nimport \"firebase/firestore\";\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDYXixKoQkDQRBQM6g_v0lspnYwWsUV2OM\",\n  authDomain: \"veille-technologique-173fb.firebaseapp.com\",\n  databaseURL: \"https://veille-technologique-173fb-default-rtdb.firebaseio.com\",\n  projectId: \"veille-technologique-173fb\",\n  storageBucket: \"veille-technologique-173fb.appspot.com\",\n  messagingSenderId: \"884338243671\",\n  appId: \"1:884338243671:web:a5b8adf2d90fea7ba98b12\",\n  measurementId: \"G-19TYS3Z8K8\"\n};\n\n// Guide Firestore (https://firebase.google.com/docs/firestore)\n// Étape 1 : initialiser le service Firebase et le produit Firestore\nif(!fbAppli.apps.length) {\n  fbAppli.initializeApp(firebaseConfig);\n}\n\nconst bd = fbAppli.firestore();\n\n// Étape 2 : utiliser l'API firestore\n\n// Exemple A : écrire des documents dans la collection \"produits\"\ntabProduits.forEach(\n  prd =>  bd.collection(\"produits\").add(prd).then(\n    refDoc => console.log(\"ID du document ajouté : \", refDoc.id)\n  )\n);\n\n// Exemple B : lire des données dans une \"collection\"\nbd.collection(\"produits\").get().then(\n  reponse => {\n    reponse.forEach(\n      doc => console.log(\"Produit dont le prix > 13$ : \", doc.data())\n    )\n  }\n);\n\n// Exemple C : observer les données en temps réel\nlet observerProduits = bd.collection(\"produits\").onSnapshot(\n  vue => vue.docChanges().forEach(\n    changement => {\n      if(changement.type==\"added\") {\n        console.log(changement.doc.data());\n      }\n    }\n  )\n);\n\n\nexport default function ListeProduits(props) {\n  return (\n    <div className=\"ListeProduits\">\n      <h2>Produits disponibles</h2>\n      <ul>        \n        {tabProduits.map(prd => \n         <Produit nom={prd.nom} prix={prd.prix} id={prd.id} etatPanier={props.etatPanier} key={prd.id} />\n        )}\n      </ul>\n    </div>\n  );\n}","export default function Accueil() {\n  return (\n    <div className=\"Accueil\">\n      <h2>Magasin</h2>\n      <p>Page d'accueil en construction</p>\n    </div>\n  );\n}","export default function Apropos() {\n  return (\n    <div className=\"Apropos\">\n      <h2>À propos de nous</h2>\n      <p>Patati et patata</p>\n    </div>\n  );\n}","export default function Contact() {\n  return (\n    <div className=\"Contact\">\n      <h2>Contactez-nous</h2>\n      <p>Formulaire de contact à venir</p>\n    </div>\n  );\n}","import './PiedDePage.scss';\n\nexport default function PiedDePage(props) {\n  const annee = new Date().getFullYear();\n  return (\n    <footer className=\"PiedDePage\">\n      &copy;{annee} - TIM - Tous droits réservés.\n    </footer>\n  );\n}","import './Appli.scss';\nimport useLocalStorageState from './hooks/useLocalStorageState';\nimport Entete from './Entete.jsx';\nimport ListeProduits from './ListeProduits';\nimport Accueil from './Accueil';\nimport Apropos from './Apropos';\nimport Contact from './Contact';\nimport PiedDePage from './PiedDePage';\nimport { Switch,Route } from 'react-router-dom';\n\nexport default function Appli() { \n  const etatPanier = useLocalStorageState({}, \"panier\");\n  return (\n    <div className=\"Appli\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        \n        <Switch>\n          <Route path=\"/\" component={Accueil} exact/>\n          <Route path=\"/nos-produits\">\n            <ListeProduits etatPanier={etatPanier} exact />\n          </Route>\n          <Route path=\"/a-propos-de-nous\" exact>\n            <Apropos />\n          </Route>\n          <Route path=\"/contactez-nous\" component={Contact} exact />\n        </Switch>\n        \n      </section>\n      <PiedDePage />\n    </div>\n  );\n}","import {useState, useEffect} from 'react';\n\nexport default function useLocalStorageState(valeurParDefaut, etiquetteLS) {\n  const [etat, setEtat] = useState(\n    () => {\n      return JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurParDefaut;\n    }\n  );\n  \n  useEffect(() => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)), [etat]);\n  \n  return [etat, setEtat];\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.scss';\nimport Appli from './Appli';\n\nconst baseName = (window.location.href.search(/github\\.io/) !== -1) ? \"panier-achats\" : \"\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={baseName}>\n      <Appli />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);"],"sourceRoot":""}